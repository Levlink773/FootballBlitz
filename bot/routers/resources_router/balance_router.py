from aiogram import Router, F
from aiogram.types import Message, FSInputFile

from constants import BALANCE
from database.models.user_bot import UserBot

balance_router = Router()


@balance_router.message(F.text.regexp(r"(‚úÖ\s*)?‚ö° –ï–Ω–µ—Ä–≥—ñ—è / –ë–∞–ª–∞–Ω—Å(\s*‚úÖ)?"))
async def start_command_handler(
        message: Message,
        user: UserBot,
):
    text = (
        "üí∞ <b>–í–∞—à –±–∞–ª–∞–Ω—Å —Ç–∞ –µ–Ω–µ—Ä–≥—ñ—è</b>\n\n"
        f"üíµ <b>–ú–æ–Ω–µ—Ç–∏</b>: {user.money}\n"
        "–ú–æ–Ω–µ—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–æ–≤–∏—Ö —Ñ—É—Ç–±–æ–ª—ñ—Å—Ç—ñ–≤ "
        "—Ç–∞, –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É, –¥–ª—è –ø—Ä–∏–¥–±–∞–Ω–Ω—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ —É –º–∞–≥–∞–∑–∏–Ω—ñ.\n\n"
        f"‚ö° <b>–ï–Ω–µ—Ä–≥—ñ—è</b>: {user.energy} / 200\n"
        "–ï–Ω–µ—Ä–≥—ñ—è –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å —Ç–∞ —É—á–∞—Å—Ç—ñ –≤ —Ç—É—Ä–Ω—ñ—Ä–∞—Ö.\n"
        "–©–æ–¥–Ω—è –æ <b>23:00</b> –Ω–∞—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è 200 –µ–Ω–µ—Ä–≥—ñ—ó (–º–∞–∫—Å–∏–º—É–º),\n"
        "–∞ –æ–±–Ω—É–ª–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—á–µ–Ω–æ—ó –µ–Ω–µ—Ä–≥—ñ—ó –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –æ <b>01:00</b>.\n\n"
        "üìå –î–æ–¥–∞—Ç–∫–æ–≤–æ –µ–Ω–µ—Ä–≥—ñ—é –º–æ–∂–Ω–∞ –∑–∞—Ä–æ–±–∏—Ç–∏ —É —Ç—É—Ä–Ω—ñ—Ä–∞—Ö –∞–±–æ "
        "–≤–∏–∫–æ–Ω—É—é—á–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –≤ –£—á–±–æ–≤–æ–º—É —Ü–µ–Ω—Ç—Ä—ñ."
    )
    await message.answer_photo(photo=BALANCE, caption=text, parse_mode="HTML")